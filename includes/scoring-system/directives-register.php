<?php
/**
 * TradePress Scoring Directives Definitions
 *
 * This file contains the definitions for system directives and test directives.
 *
 * @package    TradePress
 * @subpackage TradePress/Scoring
 * @since      1.0.2
 */

if ( ! defined( 'ABSPATH' ) ) {
    exit; // Exit if accessed directly
}

/**
 * Get all system directives - represents all available technical indicators and temporal patterns.
 * Includes traditional technical analysis and advanced weekly rhythm pattern recognition.
 * (Originally from class-tradepress-scoring-directives.php)
 * 
 * @return array All system directives.
 */
function tradepress_get_all_system_directives() {
    return array(
        'adx' => array(
            'code' => 'D1',
            'name' => 'Average Directional Index',
            'description' => 'Measures trend strength without indicating direction.',
            'weight' => 10,
            'max_score' => 100,
            'bullish' => 'ADX > 25 with +DI > -DI',
            'bearish' => 'ADX > 25 with -DI > +DI',
            'active' => false,
            'technical_indicator' => 'calculate_adx',
            'category' => 'trend',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'tested',
            'version' => '1.0.0',
            'tip' => 'ADX identifies trend strength - use ADX > 25 to confirm strong trends before entering positions. Great for trending sectors like semiconductors (NVDA, AMD). ADX < 20 suggests consolidation periods.'
        ),
        'bollinger_band_squeeze' => array(
            'code' => 'D2',
            'name' => __('Bollinger Band Squeeze', 'tradepress'),
            'description' => __('Bollinger Bands are contracting indicating potential breakout', 'tradepress'),
            'type' => 'neutral',
            'category' => 'technical',
            'weight' => 8,
            'active' => false,
            'ready' => false,
            'bullish' => __('Bands contracting', 'tradepress'),
            'bearish' => __('Bands expanding', 'tradepress'),
            'impact' => 'low',
            'used_in_strategies' => false,
            'strategy_count' => 0,
            'last_run' => null,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'Bollinger Band squeeze signals low volatility before explosive moves. The tighter the squeeze, the bigger the potential breakout. Great for earnings plays and consolidation breakouts. Watch for volume confirmation on the breakout direction.'
        ),
        'bollinger_bands' => array(
            'code' => 'D3',
            'name' => 'Bollinger Bands',
            'description' => 'Volatility indicator using standard deviations to create price channels.',
            'weight' => 15,
            'max_score' => 100,
            'bullish' => 'Price near lower band',
            'bearish' => 'Price near upper band',
            'active' => false,
            'technical_indicator' => 'calculate_bollinger_bands',
            'category' => 'volatility',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'tested',
            'version' => '1.0.0',
            'tip' => 'Bollinger Bands excel in mean-reversion strategies. Great for stable stocks like JNJ, PG that tend to bounce between bands. Band squeezes often precede breakouts - watch for volume confirmation.'
        ),
        'cci' => array(
            'code' => 'D4',
            'name' => 'Commodity Channel Index',
            'description' => 'Measures current price level relative to average price over time.',
            'weight' => 10,
            'max_score' => 100,
            'bullish' => 'Below -100',
            'bearish' => 'Above +100',
            'active' => false,
            'technical_indicator' => 'calculate_cci',
            'category' => 'momentum',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'ready',
            'version' => '0.9.0',
            'tip' => 'CCI excels at identifying cyclical turning points. Originally designed for commodities but works well with cyclical stocks like CAT, DE. CCI > +100 suggests strong uptrend, < -100 indicates oversold conditions.'
        ),
        'dividend_yield_attractive' => array(
            'code' => 'D5',
            'name' => __('Attractive Dividend Yield', 'tradepress'),
            'description' => __('Stock offers dividend yield above sector average', 'tradepress'),
            'type' => 'bullish',
            'category' => 'fundamental',
            'weight' => 10,
            'active' => false,
            'ready' => false,
            'bullish' => __('Yield > sector average', 'tradepress'),
            'bearish' => __('Yield < sector average', 'tradepress'),
            'impact' => 'low',
            'used_in_strategies' => false,
            'strategy_count' => 0,
            'last_run' => null,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'High dividend yields attract income investors and provide downside support. Focus on sustainable yields (3-6%) from established companies like JNJ, PG. Beware of yield traps - extremely high yields often signal dividend cuts ahead.'
        ),
        'earnings_proximity' => array(
            'code' => 'D6',
            'name' => __('Earnings Proximity', 'tradepress'),
            'description' => __('Stock has earnings announcement within next 7 days', 'tradepress'),
            'type' => 'neutral',
            'category' => 'events',
            'weight' => 15,
            'active' => false,
            'ready' => false,
            'bullish' => __('Earnings within 7 days', 'tradepress'),
            'bearish' => __('No upcoming earnings', 'tradepress'),
            'impact' => 'medium',
            'used_in_strategies' => false,
            'strategy_count' => 0,
            'last_run' => null,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'Earnings proximity creates volatility and opportunity. Use for options strategies or position sizing adjustments. High-growth stocks like NFLX, AMZN often see 5-15% moves post-earnings. Consider implied volatility levels before earnings plays.'
        ),
        'ema' => array(
            'code' => 'D7',
            'name' => 'Exponential Moving Average',
            'description' => 'Weighted moving average giving more importance to recent prices.',
            'weight' => 10,
            'max_score' => 100,
            'bullish' => 'Price above EMA',
            'bearish' => 'Price below EMA',
            'active' => false,
            'technical_indicator' => 'calculate_ema',
            'category' => 'trend',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'ready',
            'version' => '0.9.0',
            'tip' => 'EMA responds faster to price changes than SMA. Perfect for day trading and swing trading momentum stocks. Use 9/21 EMA crossover for short-term signals. Works well with tech stocks like NFLX, CRM.'
        ),
        'isa_reset' => array(
            'code' => 'D2',
            'name' => __('ISA Reset Period', 'tradepress'),
            'description' => __('Increases score during ISA reset period (March-April)', 'tradepress'),
            'type' => 'bullish',
            'category' => 'events',
            'weight' => 10,
            'active' => false,
            'ready' => true,
            'bullish' => __('Active during ISA reset period', 'tradepress'),
            'bearish' => __('Not applicable', 'tradepress'),
            'impact' => 'low',
            'used_in_strategies' => false,
            'strategy_count' => 0,
            'last_run' => null,
            'is_active' => false,
            'days_before' => 3,
            'days_after' => 3,
            'score_impact' => 10,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'ISA reset creates seasonal buying pressure in UK markets (April 6th). Retail investors receive fresh Â£20k allowance, driving demand for popular stocks like LLOY, BP, VOD. Best used for UK-focused portfolios during March-April period.'
        ),
        'ma_crossover' => array(
            'code' => 'D9',
            'name' => 'Moving Average Crossover',
            'description' => 'Identifies trend changes when faster MA crosses slower MA.',
            'weight' => 15,
            'max_score' => 100,
            'bullish' => 'Golden Cross (50 MA crosses above 200 MA)',
            'bearish' => 'Death Cross (50 MA crosses below 200 MA)',
            'active' => false,
            'technical_indicator' => 'calculate_ma_crossover',
            'category' => 'trend',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'Golden Cross (50/200 MA) is a powerful long-term bullish signal. Works best with large-cap stocks like MSFT, AAPL for position trading. Death Cross signals major trend reversal - use for risk management.'
        ),
        'macd' => array(
            'code' => 'D10',
            'name' => 'MACD',
            'description' => 'Momentum indicator that shows the relationship between two moving averages.',
            'weight' => 25,
            'bullish' => 'Positive Crossover',
            'bearish' => 'Negative Crossover',
            'active' => true,
            'technical_indicator' => 'calculate_macd',
            'category' => 'momentum',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'tested',
            'version' => '1.0.0',
            'tip' => 'MACD crossovers are excellent for momentum plays. Works best with growth stocks like AMZN, GOOGL. Look for bullish crossovers above zero line for strongest signals. Avoid during choppy, sideways markets.'
        ),
        'macd_bullish_crossover' => array(
            'code' => 'D11',
            'name' => __('MACD Bullish Crossover', 'tradepress'),
            'description' => __('MACD line crosses above signal line indicating bullish momentum', 'tradepress'),
            'type' => 'bullish',
            'category' => 'technical',
            'weight' => 25,
            'active' => true,
            'ready' => true,
            'bullish' => __('MACD > Signal Line', 'tradepress'),
            'bearish' => __('MACD < Signal Line', 'tradepress'),
            'impact' => 'high',
            'used_in_strategies' => true,
            'strategy_count' => 4,
            'last_run' => date('Y-m-d H:i:s', strtotime('-30 minutes')),
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'MACD bullish crossover signals momentum shift from bearish to bullish. Most powerful when occurring above zero line and confirmed by volume. Excellent for catching early momentum in growth stocks like NVDA, AMD before major moves.'
        ),
        'mfi' => array(
            'code' => 'D12',
            'name' => 'Money Flow Index',
            'description' => 'Volume-weighted RSI that measures buying/selling pressure.',
            'weight' => 10,
            'max_score' => 100,
            'bullish' => 'Below 20 (Oversold)',
            'bearish' => 'Above 80 (Overbought)',
            'active' => false,
            'technical_indicator' => 'calculate_mfi',
            'category' => 'volume_momentum',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'ready',
            'version' => '0.9.0',
            'tip' => 'MFI combines price and volume for more reliable overbought/oversold signals than RSI alone. Perfect for high-volume stocks like SPY, QQQ. MFI divergences are powerful reversal signals.'
        ),
        'moving_averages' => array(
            'code' => 'D13',
            'name' => 'Moving Averages',
            'description' => 'Analysis of price in relation to various moving averages.',
            'weight' => 15,
            'max_score' => 100,
            'bullish' => 'Price above key moving averages',
            'bearish' => 'Price below key moving averages',
            'active' => true,
            'technical_indicator' => 'calculate_ema',
            'category' => 'trend',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'ready',
            'version' => '0.9.0',
            'tip' => 'Moving averages define trend direction and support/resistance levels. Use 20/50/200 MA for multi-timeframe analysis. Price above all MAs = strong uptrend. Great for trending stocks in all sectors.'
        ),
        'news_sentiment_positive' => array(
            'code' => 'D14',
            'name' => __('Positive News Sentiment', 'tradepress'),
            'description' => __('Recent news sentiment analysis shows positive outlook', 'tradepress'),
            'type' => 'bullish',
            'category' => 'sentiment',
            'weight' => 12,
            'active' => false,
            'ready' => false,
            'bullish' => __('Positive sentiment', 'tradepress'),
            'bearish' => __('Negative sentiment', 'tradepress'),
            'impact' => 'medium',
            'used_in_strategies' => false,
            'strategy_count' => 0,
            'last_run' => null,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'News sentiment drives short-term price action and momentum. Positive sentiment often creates buying pressure in retail-heavy stocks. Most effective when combined with technical breakouts. Monitor social media sentiment for meme stocks like GME, AMC.'
        ),
        'obv' => array(
            'code' => 'D15',
            'name' => 'On-Balance Volume',
            'description' => 'Cumulative indicator that relates volume to price changes.',
            'weight' => 10,
            'max_score' => 100,
            'bullish' => 'OBV increasing',
            'bearish' => 'OBV decreasing',
            'active' => false,
            'technical_indicator' => 'calculate_obv',
            'category' => 'volume',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'ready',
            'version' => '0.9.0',
            'tip' => 'OBV shows smart money flow - rising OBV with rising price confirms uptrend. Excellent for detecting accumulation in value stocks like BRK.B, JPM. Divergences between OBV and price often signal reversals.'
        ),
        'price_above_sma_50' => array(
            'code' => 'D16',
            'name' => __('Price Above SMA 50', 'tradepress'),
            'description' => __('Stock price is trading above its 50-day Simple Moving Average', 'tradepress'),
            'type' => 'bullish',
            'category' => 'technical',
            'weight' => 15,
            'active' => true,
            'ready' => true,
            'bullish' => __('Price > SMA 50', 'tradepress'),
            'bearish' => __('Price < SMA 50', 'tradepress'),
            'impact' => 'medium',
            'used_in_strategies' => true,
            'strategy_count' => 2,
            'last_run' => date('Y-m-d H:i:s', strtotime('-2 hours')),
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'SMA 50 acts as dynamic support/resistance and trend filter. Price above SMA 50 indicates intermediate-term uptrend. Great for swing trading growth stocks like AMZN, GOOGL. Use pullbacks to SMA 50 as entry points.'
        ),
        'rsi' => array(
            'code' => 'D17',
            'name' => 'Relative Strength Index (RSI)',
            'description' => 'Scores symbols based on RSI values, which measure overbought/oversold conditions.',
            'weight' => 25,
            'bullish' => 'Below 30 (Oversold)',
            'bearish' => 'Above 70 (Overbought)',
            'active' => true,
            'technical_indicator' => 'calculate_rsi',
            'category' => 'momentum',
            'impact' => 'high',
            'used_in_strategies' => false,
            'max_score' => 190,
            'development_status' => 'tested',
            'version' => '1.0.0',
            'tip' => 'RSI works best with volatile stocks like TSLA, NVDA. Use RSI < 30 for oversold bounce plays and RSI > 70 to identify potential pullbacks. Most effective in ranging markets rather than strong trends.'
        ),
        'rsi_overbought' => array(
            'code' => 'D18',
            'name' => __('RSI Overbought', 'tradepress'),
            'description' => __('Relative Strength Index indicates overbought conditions (RSI > 70)', 'tradepress'),
            'type' => 'bearish',
            'category' => 'technical',
            'weight' => 18,
            'active' => false,
            'ready' => true,
            'bullish' => __('RSI <= 70', 'tradepress'),
            'bearish' => __('RSI > 70', 'tradepress'),
            'impact' => 'medium',
            'used_in_strategies' => false,
            'strategy_count' => 0,
            'last_run' => date('Y-m-d H:i:s', strtotime('-6 hours')),
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'RSI overbought warns of potential pullbacks or profit-taking opportunities. Use for position sizing reduction or short-term hedging. Be cautious in strong bull markets where RSI can stay overbought for extended periods (like TSLA runs).'
        ),
        'rsi_oversold' => array(
            'code' => 'D19',
            'name' => __('RSI Oversold', 'tradepress'),
            'description' => __('Relative Strength Index indicates oversold conditions (RSI < 30)', 'tradepress'),
            'type' => 'bullish',
            'category' => 'technical',
            'weight' => 20,
            'active' => true,
            'ready' => true,
            'bullish' => __('RSI < 30', 'tradepress'),
            'bearish' => __('RSI >= 30', 'tradepress'),
            'impact' => 'high',
            'used_in_strategies' => true,
            'strategy_count' => 3,
            'last_run' => date('Y-m-d H:i:s', strtotime('-1 hour')),
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'RSI oversold signals potential bounce opportunities. Most effective in quality stocks during market corrections. Look for RSI < 30 in blue-chips like AAPL, MSFT for mean-reversion plays. Combine with support levels for higher probability entries.'
        ),
        'stochastic' => array(
            'code' => 'D20',
            'name' => 'Stochastic Oscillator',
            'description' => 'Compares closing price to price range over time to identify momentum shifts.',
            'weight' => 15,
            'max_score' => 100,
            'bullish' => 'K line crosses above D line from below 20',
            'bearish' => 'K line crosses below D line from above 80',
            'active' => false,
            'technical_indicator' => 'calculate_stochastic',
            'category' => 'momentum',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'Stochastic works best in ranging markets for oversold/overbought signals. Excellent for dividend stocks like KO, PEP that trade in ranges. Avoid during strong trends as it can stay overbought/oversold for extended periods.'
        ),
        'support_resistance_levels' => array(
            'code' => 'D21',
            'name' => 'Support & Resistance Levels',
            'description' => 'Identifies support and resistance zones using 6 technical methods with confluence analysis.',
            'weight' => 20,
            'max_score' => 100,
            'bullish' => 'Near strong support, far from resistance',
            'bearish' => 'Near strong resistance, far from support',
            'active' => true,
            'technical_indicator' => null,
            'category' => 'price_levels',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'Support/resistance confluence zones offer high-probability reversal points. Most effective when 4+ methods align at same price level. Use for entry/exit timing and stop-loss placement in all market conditions.'
        ),
        'volume' => array(
            'code' => 'D22',
            'name' => 'Volume Analysis',
            'description' => 'Scores symbols based on trading volume relative to average volume.',
            'weight' => 15,
            'bullish' => '> 1.5x Average',
            'bearish' => '< 0.5x Average',
            'active' => true,
            'technical_indicator' => null,
            'category' => 'volume',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'tested',
            'version' => '1.0.0',
            'tip' => 'Volume surges often precede significant price moves. Particularly useful for breakout stocks and earnings plays. Watch for volume spikes in low-float stocks like AMC, GME for explosive moves.'
        ),
        'volume_surge' => array(
            'code' => 'D23',
            'name' => __('Volume Surge', 'tradepress'),
            'description' => __('Trading volume is significantly above average', 'tradepress'),
            'type' => 'bullish',
            'category' => 'volume',
            'weight' => 12,
            'active' => true,
            'ready' => true,
            'bullish' => __('Volume > 150% average', 'tradepress'),
            'bearish' => __('Volume < 150% average', 'tradepress'),
            'impact' => 'medium',
            'used_in_strategies' => true,
            'strategy_count' => 2,
            'last_run' => date('Y-m-d H:i:s', strtotime('-45 minutes')),
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'Volume surges indicate institutional interest or news-driven activity. Look for 2x+ average volume with price breakouts for strongest signals. Particularly effective for small-cap stocks and biotech names during FDA approvals or earnings beats.'
        ),
        'vwap' => array(
            'code' => 'D24',
            'name' => 'Volume Weighted Average Price',
            'description' => 'Average price weighted by volume to identify intraday trends.',
            'weight' => 10,
            'max_score' => 100,
            'bullish' => 'Price below VWAP',
            'bearish' => 'Price above VWAP',
            'active' => false,
            'technical_indicator' => 'calculate_vwap',
            'category' => 'price_volume',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'VWAP is the institutional benchmark - price below VWAP suggests good value for buyers. Essential for day trading high-volume stocks like TSLA, AAPL. Institutions often use VWAP for large order execution.'
        ),
        // Candle Pattern Directives
        'doji_pattern' => array(
            'code' => 'D25',
            'name' => 'Doji Pattern',
            'description' => 'Identifies doji candles indicating market indecision.',
            'weight' => 15,
            'max_score' => 100,
            'bullish' => 'Doji at support levels',
            'bearish' => 'Doji at resistance levels',
            'active' => false,
            'technical_indicator' => 'detect_doji',
            'category' => 'candle_patterns',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'Doji patterns show indecision and potential reversals. Most reliable at key support/resistance levels with 70-80% accuracy. Look for volume confirmation on the following candle.'
        ),
        'engulfing_pattern' => array(
            'code' => 'D26',
            'name' => 'Engulfing Pattern',
            'description' => 'Detects bullish/bearish engulfing candle patterns.',
            'weight' => 20,
            'max_score' => 100,
            'bullish' => 'Bullish engulfing pattern',
            'bearish' => 'Bearish engulfing pattern',
            'active' => false,
            'technical_indicator' => 'detect_engulfing',
            'category' => 'candle_patterns',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'Engulfing patterns signal strong reversals with 60-70% reliability. Most powerful after extended trends. Bullish engulfing at support and bearish engulfing at resistance are highest probability setups.'
        ),
        'hammer_pattern' => array(
            'code' => 'D27',
            'name' => 'Hammer Pattern',
            'description' => 'Identifies hammer and hanging man reversal patterns.',
            'weight' => 18,
            'max_score' => 100,
            'bullish' => 'Hammer at support',
            'bearish' => 'Hanging man at resistance',
            'active' => false,
            'technical_indicator' => 'detect_hammer',
            'category' => 'candle_patterns',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'Hammer patterns show rejection of lower prices with 65-75% reliability at major levels. Long lower shadow should be 2x the body size. Confirmation needed on next candle.'
        ),
        'pin_bar_pattern' => array(
            'code' => 'D28',
            'name' => 'Pin Bar Pattern',
            'description' => 'Detects pin bar reversal patterns with long wicks.',
            'weight' => 20,
            'max_score' => 100,
            'bullish' => 'Bullish pin bar at support',
            'bearish' => 'Bearish pin bar at resistance',
            'active' => false,
            'technical_indicator' => 'detect_pin_bar',
            'category' => 'candle_patterns',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'Pin bars show strong rejection of price levels with 65-75% accuracy. Wick should be 3x body size minimum. Most reliable at confluence zones with volume confirmation.'
        ),
        'three_soldiers_pattern' => array(
            'code' => 'D29',
            'name' => 'Three White Soldiers',
            'description' => 'Identifies three consecutive bullish candles pattern.',
            'weight' => 25,
            'max_score' => 100,
            'bullish' => 'Three white soldiers pattern',
            'bearish' => 'Three black crows pattern',
            'active' => false,
            'technical_indicator' => 'detect_three_soldiers',
            'category' => 'candle_patterns',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'Three soldiers patterns indicate strong continuation with 70-80% reliability in trending markets. Each candle should close higher than previous. Watch for volume increase.'
        ),
        // High-Reliability Pattern Combinations
        'confluence_reversal_combo' => array(
            'code' => 'D30',
            'name' => 'Confluence Reversal Combo',
            'description' => 'Combines candle patterns with support/resistance and volume for high-probability reversals.',
            'weight' => 35,
            'max_score' => 100,
            'bullish' => 'Reversal pattern + support + volume',
            'bearish' => 'Reversal pattern + resistance + volume',
            'active' => false,
            'technical_indicator' => null,
            'category' => 'pattern_combinations',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'Tier 1 combo with 80%+ reliability. Combines reversal candle patterns with key levels and volume confirmation. Uses existing volume, momentum, and support/resistance directive classes.'
        ),
        'momentum_continuation_combo' => array(
            'code' => 'D31',
            'name' => 'Momentum Continuation Combo',
            'description' => 'Combines continuation patterns with momentum indicators for trend following.',
            'weight' => 30,
            'max_score' => 100,
            'bullish' => 'Continuation pattern + bullish momentum',
            'bearish' => 'Continuation pattern + bearish momentum',
            'active' => false,
            'technical_indicator' => null,
            'category' => 'pattern_combinations',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'development',
            'version' => '0.1.0',
            'tip' => 'Tier 2 combo with 70-80% reliability. Combines three soldiers/crows with MACD/RSI momentum. Excellent for catching trend continuations in strong markets.'
        ),
        'price_action' => array(
            'code' => 'D32',
            'name' => 'Price Action',
            'description' => 'Scores symbols based on price movements relative to moving averages.',
            'weight' => 20,
            'max_score' => 100,
            'bullish' => 'Above MA(50)',
            'bearish' => 'Below MA(200)',
            'active' => false,
            'technical_indicator' => 'calculate_price_action',
            'category' => 'price_action',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'development',
            'version' => '1.0.0',
            'tip' => 'Price action analysis using multiple moving averages for trend confirmation. Most effective for swing trading and position entries at key levels.'
        ),
        // Weekly Rhythm Directives - Temporal Market Pattern Analysis
        'monday_effect' => array(
            'code' => 'D33',
            'name' => 'Monday Effect',
            'description' => 'Detects Monday negative bias patterns and weekend sentiment impact on stock performance.',
            'weight' => 10,
            'max_score' => 100,
            'bullish' => 'Positive Monday performance, contrarian opportunity',
            'bearish' => 'Consistent Monday weakness, negative weekend sentiment',
            'active' => false,
            'technical_indicator' => null,
            'category' => 'temporal_patterns',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'complete',
            'version' => '1.0.0',
            'api_requirements' => array('Alpha Vantage Daily Time Series', 'Finnhub Historical Data'),
            'update_frequency' => 'Weekly analysis (Monday morning)',
            'api_cost' => 'LOW',
            'tip' => 'Monday Effect exploits the tendency for stocks to underperform on Mondays due to weekend news accumulation and sentiment shifts. Most pronounced in retail-heavy stocks like TSLA, AMC. Use contrarian approach - buy Monday weakness in quality names like AAPL, MSFT for Tuesday-Friday recovery plays.'
        ),
        'friday_positioning' => array(
            'code' => 'D34',
            'name' => 'Friday Positioning',
            'description' => 'Analyzes end-of-week adjustment patterns and institutional positioning behavior.',
            'weight' => 12,
            'max_score' => 100,
            'bullish' => 'Strong Friday closes, institutional accumulation',
            'bearish' => 'Friday weakness, weekend risk reduction',
            'active' => false,
            'technical_indicator' => null,
            'category' => 'temporal_patterns',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'ready',
            'version' => '1.0.0',
            'api_requirements' => array('Alpha Vantage Daily Time Series', 'Finnhub Historical Data'),
            'update_frequency' => 'Weekly analysis (Friday close)',
            'api_cost' => 'LOW',
            'tip' => 'Friday Positioning reveals institutional end-of-week behavior and weekend risk management. Strong Friday closes often indicate institutional confidence and continuation into next week. Particularly effective for large-cap stocks like JPM, BAC where institutions dominate trading. Watch for volume confirmation on Friday strength.'
        ),
        'volume_rhythm' => array(
            'code' => 'D35',
            'name' => 'Volume Rhythm',
            'description' => 'Analyzes day-of-week volume patterns and institutional trading rhythms.',
            'weight' => 14,
            'max_score' => 100,
            'bullish' => 'High volume on up days, institutional accumulation patterns',
            'bearish' => 'High volume on down days, distribution patterns',
            'active' => false,
            'technical_indicator' => null,
            'category' => 'temporal_patterns',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'ready',
            'version' => '1.0.0',
            'api_requirements' => array('Alpha Vantage Daily Time Series', 'Finnhub Historical Volume'),
            'update_frequency' => 'Weekly pattern analysis',
            'api_cost' => 'LOW',
            'tip' => 'Volume Rhythm identifies institutional trading patterns throughout the week. Monday/Friday often show rebalancing activity, while Wednesday typically shows lower institutional participation. Excellent for timing entries in high-volume names like SPY, QQQ. Volume anomalies often precede significant moves.'
        ),
        'institutional_timing' => array(
            'code' => 'D36',
            'name' => 'Institutional Timing',
            'description' => 'Analyzes end-of-period rebalancing effects and institutional timing patterns.',
            'weight' => 16,
            'max_score' => 100,
            'bullish' => 'Positive institutional flows, end-of-period buying',
            'bearish' => 'Institutional selling pressure, rebalancing outflows',
            'active' => false,
            'technical_indicator' => null,
            'category' => 'temporal_patterns',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'ready',
            'version' => '1.0.0',
            'api_requirements' => array('Alpha Vantage Daily Time Series', 'Economic Calendar data'),
            'update_frequency' => 'Monthly/Quarterly analysis',
            'api_cost' => 'LOW',
            'tip' => 'Institutional Timing captures month-end, quarter-end, and year-end rebalancing effects. Pension funds and mutual funds create predictable flow patterns during these periods. Most effective for large-cap index components like AAPL, MSFT that are heavily owned by institutions. December often shows tax-loss selling followed by January effect.'
        ),
        'portfolio_performance' => array(
            'code' => 'D37',
            'name' => 'Portfolio Performance',
            'description' => 'Analyzes portfolio momentum and performance patterns using real account data.',
            'weight' => 18,
            'max_score' => 100,
            'bullish' => 'Strong portfolio momentum, symbol in watchlist',
            'bearish' => 'Negative portfolio performance, low conviction',
            'active' => false,
            'technical_indicator' => null,
            'category' => 'portfolio_analysis',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'ready',
            'version' => '1.0.0',
            'api_requirements' => array('Alpaca Portfolio History', 'Alpaca Watchlists'),
            'update_frequency' => 'Daily portfolio analysis',
            'api_cost' => 'FREE',
            'tip' => 'Portfolio Performance uses your actual trading account data to gauge momentum and conviction. Strong portfolio performance often correlates with better stock picking. Symbols in your watchlists indicate higher conviction. Only available with Alpaca integration - requires real trading account.'
        ),
        'midweek_momentum' => array(
            'code' => 'D38',
            'name' => 'Midweek Momentum',
            'description' => 'Scores Tuesday-Thursday volume and volatility strength patterns.',
            'weight' => 16,
            'max_score' => 150,
            'bullish' => 'Strong midweek volume and positive momentum',
            'bearish' => 'Weak midweek activity, low institutional interest',
            'active' => false,
            'technical_indicator' => null,
            'category' => 'temporal_patterns',
            'impact' => 'medium',
            'used_in_strategies' => false,
            'development_status' => 'ready',
            'version' => '1.0.0',
            'api_requirements' => array('Alpha Vantage Daily Time Series'),
            'update_frequency' => 'Daily updates Tue-Thu',
            'api_cost' => 'MEDIUM',
            'tip' => 'Midweek Momentum captures institutional trading patterns when professional traders are most active (Tue-Thu). Strong midweek volume often indicates institutional accumulation. Most effective for large-cap stocks like AAPL, MSFT where institutions dominate. Avoid during holiday-shortened weeks.'
        ),
        'intraday_u_pattern' => array(
            'code' => 'D39',
            'name' => 'Intraday U-Pattern',
            'description' => 'Detects morning rush and afternoon kick patterns using intraday data.',
            'weight' => 20,
            'max_score' => 100,
            'bullish' => 'Morning dip with afternoon recovery, strong U-pattern',
            'bearish' => 'No intraday pattern, weak volume',
            'active' => false,
            'technical_indicator' => null,
            'category' => 'intraday_patterns',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'placeholder',
            'version' => '0.5.0',
            'api_requirements' => array('Finnhub Candles', 'Alpaca Bars'),
            'update_frequency' => 'Real-time or 15-minute intervals',
            'api_cost' => 'HIGH',
            'tip' => 'Intraday U-Pattern captures day-trading opportunities with morning weakness followed by afternoon strength. Requires expensive intraday data feeds. Most effective for high-volume stocks like SPY, QQQ, TSLA. Consider webhook implementation to reduce API costs by 95%.'
        ),
        'time_based_support' => array(
            'code' => 'D40',
            'name' => 'Time-Based Support',
            'description' => 'VWAP and time-sensitive support/resistance level analysis.',
            'weight' => 22,
            'max_score' => 100,
            'bullish' => 'Price near VWAP support, strong time-based levels',
            'bearish' => 'Price below VWAP, weak support levels',
            'active' => false,
            'technical_indicator' => null,
            'category' => 'intraday_patterns',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'placeholder',
            'version' => '0.5.0',
            'api_requirements' => array('Finnhub VWAP', 'Alpaca Real-time Bars'),
            'update_frequency' => 'Hourly during market hours',
            'api_cost' => 'HIGH',
            'tip' => 'Time-Based Support uses VWAP as institutional benchmark for support/resistance. Price below VWAP suggests selling pressure, above suggests accumulation. Most effective for day trading large-cap stocks. Requires expensive real-time data feeds.'
        ),
        // Composite Directives - Phase 2 Implementation
        'basic_weekly_rhythm' => array(
            'code' => 'C1',
            'name' => 'Basic Weekly Rhythm',
            'description' => 'Composite directive combining Monday Effect, Midweek Momentum, and Volume Rhythm patterns.',
            'weight' => 25,
            'max_score' => 100,
            'bullish' => 'Strong weekly patterns across multiple timeframes',
            'bearish' => 'Weak or conflicting weekly rhythm signals',
            'active' => false,
            'technical_indicator' => null,
            'category' => 'composite_temporal',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'ready',
            'version' => '1.0.0',
            'api_requirements' => array('Alpha Vantage Daily Time Series'),
            'update_frequency' => 'Daily analysis',
            'api_cost' => 'LOW',
            'components' => array('monday_effect', 'midweek_momentum', 'volume_rhythm'),
            'tip' => 'Basic Weekly Rhythm combines three fundamental weekly patterns for simplified analysis. Perfect for users who want weekly rhythm insights without managing individual components. Uses existing Alpha Vantage data with minimal API cost.'
        ),
        'advanced_weekly_rhythm' => array(
            'code' => 'C2',
            'name' => 'Advanced Weekly Rhythm',
            'description' => 'Comprehensive composite directive using all 7 weekly rhythm components.',
            'weight' => 35,
            'max_score' => 100,
            'bullish' => 'Strong confluence across all weekly rhythm patterns',
            'bearish' => 'Multiple conflicting weekly signals',
            'active' => false,
            'technical_indicator' => null,
            'category' => 'composite_temporal',
            'impact' => 'high',
            'used_in_strategies' => false,
            'development_status' => 'development',
            'version' => '0.5.0',
            'api_requirements' => array('Alpha Vantage', 'Finnhub', 'Alpaca'),
            'update_frequency' => 'Real-time to daily',
            'api_cost' => 'HIGH',
            'components' => array('monday_effect', 'friday_positioning', 'volume_rhythm', 'institutional_timing', 'midweek_momentum', 'intraday_u_pattern', 'time_based_support'),
            'tip' => 'Advanced Weekly Rhythm provides comprehensive temporal analysis but requires multiple API platforms and higher costs. Best for professional traders who need complete weekly pattern coverage.'
        )
    );
}